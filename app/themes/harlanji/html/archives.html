{% extends "/html/base.html" %}
{%block subtitle %}: Archives{% endblock %}
{% block content %}

<script src="js/vis.js">
<script>
var visItems = [
  // for each archive item, { ... }
];

</script>
<div id="timeline">

</div>

<div id="posts">

<a href="/">Home</a>


    <div id="page-header">
        <h2>{{archives-title}}</h2>
    </div>

    {% for group in groups %}
        <h4>{{group.group}}</h4>
        <ul>
        {% for post in group.posts %}
        <li class="{% for tag in post.tags %}post-tagged-{{tag.name}} {% endfor %}">
            {% comment %}
              Requires cryogen-project/src/cryogen_core/compiler.clj to have select-keys calls for archive source to include :tags. 0.2.1.
            {% endcomment %}
            {{post.date|date:"MMM dd"}} - <a href="{{post.uri}}">{{post.title}}</a>
            {% if post.tags|not-empty %}
            (
            {% for tag in post.tags %}
              <a href="{{tag.uri}}">{{ tag.name }}</a>
            {% endfor %}
            )
            {% endif %}
 
        </li>
        {% endfor %}
        </ul>
    {% endfor %}

    <p>Subscribe via rss:</p>
    
    <ul>
    <li><a href="{{rss-uri}}">Main feed</a></li>
    </ul>

</div>
{% endblock %}
